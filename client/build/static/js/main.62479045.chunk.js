(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(t,e,n){},49:function(t,e,n){},82:function(t,e,n){"use strict";n.r(e);var c=n(7),a=n.n(c),o=n(37),i=n.n(o),s=(n(47),n(5)),r=n.n(s),u=n(14),f=n(38),l=n(39),d=n(42),h=n(41),w=(n(49),n(40)),p=n.n(w),v=n(4),b=[],g="ws://localhost:".concat(3e3),k=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(f.a)(this,n),(c=e.call(this,t)).test=function(){document.addEventListener("keydown",(function(t){t.which})),setInterval((function(){document.dispatchEvent(new KeyboardEvent("keydown",{altKey:!1,bubbles:!0,cancelBubble:!1,cancelable:!0,charCode:0,code:"Space",composed:!0,ctrlKey:!1,currentTarget:null,defaultPrevented:!1,detail:0,eventPhase:0,isComposing:!1,isTrusted:!0,key:" ",keyCode:32,type:"keydown",which:32}))}),1e3)},c.init=Object(u.a)(r.a.mark((function t(){var e,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.refs.canvas,(n=e.getContext("2d")).fillStyle="white",n.fillRect(0,0,e.width,e.height),t.next=6,c.setState({canvas:e});case 6:return t.next=8,c.setState({ctx:n});case 8:.03,c.state.socket.emit("drawInit"),setInterval((function(){return c.rendering()}),.03);case 11:case"end":return t.stop()}}),t)}))),c.paintInit=function(){c.state.socket.emit("paintInit")},c.rendering=function(){var t=c.state.ctx;t.fillStyle="black",b.forEach((function(e){t.fillRect(e[0],e[1],2,2)}))},c.draw=function(t){var e=c.state,n=e.canvas,a=(e.ctx,e.drawing),o=e.socket;if(a){var i=[0,0];i=t.touches?[t.touches[0].clientX-n.offsetLeft,t.touches[0].clientY-n.offsetTop]:[t.clientX-n.offsetLeft,t.clientY-n.offsetTop],o.emit("draw",i),console.log("draw",i)}},c.onDraw=function(){c.setState({drawing:!0}),console.log("On!")},c.offDraw=function(){c.setState({drawing:!1}),console.log("Off!")},c.state={socket:p()(g,{transports:["websocket"]}),canvas:null,ctx:null,drawing:!1},c.state.socket.on("draw",function(){var t=Object(u.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.push(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),c.state.socket.on("drawInit",function(){var t=Object(u.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b=e,c.rendering();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),c.state.socket.on("paintInit",(function(t){var e=c.state,n=e.canvas,a=e.ctx;b=t,a.fillStyle="white",a.fillRect(0,0,n.width,n.height)})),c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.init(),setTimeout(this.test,1e3)}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)("button",{onClick:this.paintInit,children:"\ucd08\uae30\ud654"}),Object(v.jsx)("div",{className:"game",id:"game",children:Object(v.jsx)("canvas",{id:"canvas",ref:"canvas",width:600,height:600,onMouseUp:this.offDraw,onMouseDown:this.onDraw,onMouseMove:this.draw,onTouchStart:this.onDraw,onTouchEnd:this.offDraw,onTouchMove:this.draw})})]})}}]),n}(c.Component),j=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),o(t),i(t)}))};i.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(k,{})}),document.getElementById("root")),j()}},[[82,1,2]]]);
//# sourceMappingURL=main.62479045.chunk.js.map